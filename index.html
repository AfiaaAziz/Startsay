<!doctype html>
<html
  data-wf-domain="styleframe.de"
  data-wf-page="66c3a685de0fd85a256fe678"
  data-wf-site="66c3a685de0fd85a256fe67c"
  data-wf-intellimize-customer-id="117195188"
  lang="en"
>
  <head>
    <meta charset="utf-8" />
    <title>Home / Styleframe</title>
    <meta
      content="We are an international working motion design and cg animation studio. Our passion lies in creating stunning and astounding visuals. We conceptualize."
      name="description"
    />
    <meta content="Home / Styleframe" property="og:title" />
    <meta
      content="We are an international working motion design and cg animation studio. Our passion lies in creating stunning and astounding visuals. We conceptualize."
      property="og:description"
    />
    <meta
      content="https://cdn.prod.website-files.com/65fb926ad329e83bda7cb699/6672782eb40d37630ed77315_cover.jpg"
      property="og:image"
    />
    <meta content="Home / Styleframe" property="twitter:title" />
    <meta
      content="We are an international working motion design and cg animation studio. Our passion lies in creating stunning and astounding visuals. We conceptualize."
      property="twitter:description"
    />
    <meta
      content="https://cdn.prod.website-files.com/65fb926ad329e83bda7cb699/6672782eb40d37630ed77315_cover.jpg"
      property="twitter:image"
    />
    <meta property="og:type" content="website" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link
      href="https://cdn.prod.website-files.com/66c3a685de0fd85a256fe67c/css/styleframe-de.webflow.shared.27c99bad7.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <style>
      @media (min-width: 992px) {
        html.w-mod-js:not(.w-mod-ix)
          [data-w-id="36ef00c4-c0c4-67da-152a-af725a1c8d80"] {
          -webkit-transform: translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -moz-transform: translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -ms-transform: translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          transform: translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0)
            rotateZ(0) skew(0, 0);
        }
        html.w-mod-js:not(.w-mod-ix)
          [data-w-id="36ef00c4-c0c4-67da-152a-af725a1c8d7f"] {
          -webkit-transform: translate3d(0, 0px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -moz-transform: translate3d(0, 0px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -ms-transform: translate3d(0, 0px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          transform: translate3d(0, 0px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
        }
        html.w-mod-js:not(.w-mod-ix)
          [data-w-id="ace78f01-d8e5-8629-9683-6b3790a435cd"] {
          -webkit-transform: translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -moz-transform: translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -ms-transform: translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          transform: translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
        }
        html.w-mod-js:not(.w-mod-ix)
          [data-w-id="45a76f3e-773c-ba96-27a9-12db3d2a4ce9"] {
          opacity: 0.5;
        }
        html.w-mod-js:not(.w-mod-ix)
          [data-w-id="a6b1d65a-6253-497b-f5ad-8b354b24b4e3"] {
          opacity: 0;
          -webkit-transform: translate3d(-100px, 0, null) scale3d(1, 1, 1)
            rotateX(null) rotateY(0deg) rotateZ(null) skew(0, 0);
          -moz-transform: translate3d(-100px, 0, null) scale3d(1, 1, 1)
            rotateX(null) rotateY(0deg) rotateZ(null) skew(0, 0);
          -ms-transform: translate3d(-100px, 0, null) scale3d(1, 1, 1)
            rotateX(null) rotateY(0deg) rotateZ(null) skew(0, 0);
          transform: translate3d(-100px, 0, null) scale3d(1, 1, 1) rotateX(null)
            rotateY(0deg) rotateZ(null) skew(0, 0);
          transform-style: preserve-3d;
        }
      }
    </style>
    <style>
      html.w-mod-js:not(.w-mod-ix3) :is(.lab-image) {
        visibility: visible !important;
        opacity: 1 !important;
        display: block !important;
      }
      .lab-canvas-wrp {
        background-color: #000 !important;
        display: block !important;
      }
      .collection-list-wrp-lab {
        display: block !important;
      }
      .collection-list-lab {
        display: block !important;
      }
      .collection-item-lab {
        display: flex !important;
      }
    </style>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        ((n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch"));
      })(window, document);
    </script>
    <link
      href="https://cdn.prod.website-files.com/66c3a685de0fd85a256fe67c/6883e47dc2ab91016106edcb_favicon.png"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link
      href="https://cdn.prod.website-files.com/65fb926ad329e83bda7cb699/66733bf7ae07b53a7c094d90_style-256.png"
      rel="apple-touch-icon"
    />
    <style>
      .anti-flicker,
      .anti-flicker * {
        visibility: hidden !important;
        opacity: 0 !important;
      }
    </style>
    <style>
      [data-wf-hidden-variation],
      [data-wf-hidden-variation] * {
        display: none !important;
      }
    </style>
    <script type="text/javascript">
      localStorage.removeItem("intellimize_opt_out_117195188");
      if (localStorage.getItem("intellimize_data_tracking_type") !== "always") {
        localStorage.setItem("intellimize_data_tracking_type", "always");
      }
    </script>
    <script type="text/javascript">
      (function (e) {
        var s = { r: [] };
        e.wf = {
          r: s.r,
          ready: (t) => {
            s.r.push(t);
          },
        };
      })(window);
    </script>
    <script type="text/javascript">
      (function (e, t, p) {
        var n = document.documentElement,
          s = { p: [], r: [] },
          u = {
            p: s.p,
            r: s.r,
            push: function (e) {
              s.p.push(e);
            },
            ready: function (e) {
              s.r.push(e);
            },
          };
        ((e.intellimize = u),
          (n.className += " " + p),
          setTimeout(function () {
            n.className = n.className.replace(RegExp(" ?" + p), "");
          }, t));
      })(window, 4000, "anti-flicker");
    </script>
    <link
      href="https://cdn.intellimize.co/snippet/117195188.js"
      rel="preload"
      as="script"
    />
    <script type="text/javascript">
      var wfClientScript = document.createElement("script");
      ((wfClientScript.src = "https://cdn.intellimize.co/snippet/117195188.js"),
        (wfClientScript.async = !0),
        (wfClientScript.onerror = function () {
          document.documentElement.className =
            document.documentElement.className.replace(
              RegExp(" ?anti-flicker"),
              "",
            );
        }),
        document.head.appendChild(wfClientScript));
    </script>
    <link
      href="https://api.intellimize.co"
      rel="preconnect"
      crossorigin="true"
    />
    <link
      href="https://log.intellimize.co"
      rel="preconnect"
      crossorigin="true"
    />
    <link href="https://117195188.intellimizeio.com" rel="preconnect" />
    <script
      async
      src="https://cdn.jsdelivr.net/npm/@finsweet/cookie-consent@1/fs-cc.js"
      fs-cc-mode="opt-in"
    ></script>

    <style>
      ::selection {
        background-color: #ff5101;
      }

      ::-moz-selection {
        background-color: #ff5101;
      }

      ::-o-selection {
        background-color: #ff5101;
      }

      ::-ms-selection {
        background-color: #ff5101;
      }

      ::-webkit-selection {
        background-color: #ff5101;
      }

      .contact-banner::selection,
      .contact-banner *::selection {
        background-color: #fff;
        color: #000000 !important;
      }
      .contact-banner::-moz-selection,
      .contact-banner *::-moz-selection {
        background-color: #fff;
        color: #000000 !important;
      }
      .contact-banner::-webkit-selection,
      .contact-banner *::-webkit-selection {
        background-color: #fff;
        color: #000000 !important;
      }

      [text-split] {
        opacity: 0;
      }
      html.w-editor [text-split] {
        opacity: 1;
      }

      .word {
        overflow: hidden;
        padding-bottom: 0.1em;
        margin-bottom: -0.1em;
        transform-origin: bottom;
      }

      .line {
        position: relative;
      }
      .line-mask {
        position: absolute;
        top: 0;
        right: 0;
        background-color: #e6e6e6;
        opacity: 0.65;
        height: 100%;
        width: 100%;
        z-index: 2;
      }
    </style>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2JMZJ7LVDN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-2JMZJ7LVDN");
    </script>
    <style>
      .video-loader {
        animation: spin 3s linear infinite;
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=66c3a685de0fd85a256fe67c"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.prod.website-files.com/66c3a685de0fd85a256fe67c/js/webflow.schunk.36b8fb49256177c8.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdn.prod.website-files.com/66c3a685de0fd85a256fe67c/js/webflow.schunk.b76e6d9ad01b486f.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdn.prod.website-files.com/66c3a685de0fd85a256fe67c/js/webflow.22196bf4.30fd916c899bdc1d.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdn.prod.website-files.com/gsap/3.14.2/gsap.min.js"
      type="text/javascript"
    ></script>
    <script src="https://cdn.jsdelivr.net/gh/timothydesign/script/split-type.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        // Split text into spans
        let typeSplit = new SplitType("[text-split]", {
          types: "words, chars",
          tagName: "span",
        });

        // Link timelines to scroll position
        function createScrollTrigger(triggerElement, timeline) {
          // Reset tl when scroll out of view past bottom of screen
          ScrollTrigger.create({
            trigger: triggerElement,
            start: "top bottom",
            onLeaveBack: () => {
              timeline.progress(0);
              timeline.pause();
            },
          });
          // Play tl when scrolled into view (80% from top of screen)
          ScrollTrigger.create({
            trigger: triggerElement,
            start: "top 80%",
            onEnter: () => timeline.play(),
          });
        }

        $("[words-slide-up]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".word"), {
            opacity: 0,
            yPercent: 100,
            duration: 0.5,
            ease: "power2.out(2)",
            stagger: { amount: 0.5 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[words-rotate-in]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.set($(this).find(".word"), { transformPerspective: 1000 });
          tl.from($(this).find(".word"), {
            rotationX: -90,
            duration: 0.6,
            ease: "power2.out",
            stagger: { amount: 0.6 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[words-slide-from-right]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".word"), {
            opacity: 0,
            x: "1em",
            duration: 0.6,
            ease: "power2.out",
            stagger: { amount: 0.2 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[letters-slide-up]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".char"), {
            yPercent: 100,
            duration: 0.2,
            ease: "power1.out",
            stagger: { amount: 0.6 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[letters-slide-down]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".char"), {
            yPercent: -120,
            duration: 0.3,
            ease: "power1.out",
            stagger: { amount: 0.7 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[letters-fade-in]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".char"), {
            opacity: 0,
            duration: 0.2,
            ease: "power1.out",
            stagger: { amount: 0.8 },
          });
          createScrollTrigger($(this), tl);
        });

        $("[letters-fade-in-random]").each(function (index) {
          let tl = gsap.timeline({ paused: true });
          tl.from($(this).find(".char"), {
            opacity: 0,
            duration: 0.05,
            ease: "power1.out",
            stagger: { amount: 0.4, from: "random" },
          });
          createScrollTrigger($(this), tl);
        });

        $("[scrub-each-word]").each(function (index) {
          let tl = gsap.timeline({
            scrollTrigger: {
              trigger: $(this),
              start: "top 90%",
              end: "top center",
              scrub: true,
            },
          });
          tl.from($(this).find(".word"), {
            opacity: 0.2,
            duration: 0.2,
            ease: "power1.out",
            stagger: { each: 0.4 },
          });
        });

        // Avoid flash of unstyled content
        gsap.set("[text-split]", { opacity: 1 });
      });
    </script>

    <script>
      let typeSplit;
      // Split the text up
      function runSplit() {
        typeSplit = new SplitType(".split-lines", {
          types: "lines, words",
        });
        $(".line").append("<div class='line-mask'></div>");
        createAnimation();
      }
      runSplit();
      // Update on window resize
      let windowWidth = $(window).innerWidth();
      window.addEventListener("resize", function () {
        if (windowWidth !== $(window).innerWidth()) {
          windowWidth = $(window).innerWidth();
          typeSplit.revert();
          runSplit();
        }
      });

      gsap.registerPlugin(ScrollTrigger);

      function createAnimation() {
        $(".line").each(function (index) {
          let tl = gsap.timeline({
            scrollTrigger: {
              trigger: $(this),
              // trigger element - viewport
              start: "top center",
              end: "bottom center",
              scrub: 1,
            },
          });
          tl.to($(this).find(".line-mask"), {
            width: "0%",
            duration: 1,
          });
        });
      }
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const carousels = document.querySelectorAll(
          ".collection-list-logo-anim",
        );
        carousels.forEach((carousel) => {
          const slides = Array.from(carousel.children);
          let idx = -1;
          slides.forEach((slide) => (slide.style.display = "none"));
          function rotate() {
            if (idx >= 0) {
              slides[idx].style.display = "none";
            }
            idx = (idx + 1) % slides.length;
            slides[idx].style.display = "block";
            setTimeout(rotate, 83.333333);
          }
          rotate();
        });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const RESTART_ON_REENTER = false;

        const currentEl = document.getElementById("current-project");
        if (!currentEl) return console.warn("#current-project not found");

        const currentTitle = (
          currentEl.getAttribute("current-title") || ""
        ).trim();
        if (!currentTitle)
          return console.warn(
            "current-title attribute missing on #current-project",
          );

        const prevItems = Array.from(
          document.querySelectorAll("#listPrev .proj-item"),
        );
        const nextItems = Array.from(
          document.querySelectorAll("#listNext .proj-item"),
        );

        if (!prevItems.length && !nextItems.length) {
          return console.warn(
            "No .proj-item elements found in #listPrev or #listNext",
          );
        }

        const idx = prevItems.findIndex(
          (el) =>
            (el.getAttribute("project-title") || "")
              .trim()
              .localeCompare(currentTitle, undefined, {
                sensitivity: "accent",
              }) === 0,
        );

        function setItemVisible(item, visible) {
          if (!item) return;
          item.style.display = visible ? "" : "none";
          const vids = item.querySelectorAll("video");
          vids.forEach((v) => {
            if (visible) {
              // set src if defined in data-src and not already set
              const ds = v.getAttribute("data-src");
              if (ds && !v.getAttribute("src")) {
                v.setAttribute("src", ds);
              }
              v.setAttribute("playsinline", "");
              v.setAttribute("muted", "");
              v.setAttribute("autoplay", "");
              if (RESTART_ON_REENTER && v.readyState > 0) v.currentTime = 0;
              v.play().catch(() => {});
            } else {
              v.removeAttribute("autoplay");
              try {
                v.pause();
              } catch {}
              if (RESTART_ON_REENTER) {
                try {
                  v.currentTime = 0;
                } catch {}
              }
            }
          });
        }

        function hideAllAndStop(list) {
          list.forEach((el) => setItemVisible(el, false));
        }

        if (idx === -1) {
          console.warn(
            "Current project not found in #listPrev by project-title",
          );
          hideAllAndStop(prevItems);
          hideAllAndStop(nextItems);
          return;
        }

        hideAllAndStop(prevItems);
        hideAllAndStop(nextItems);

        if (prevItems.length) {
          const prevIdx = (idx - 1 + prevItems.length) % prevItems.length;
          setItemVisible(prevItems[prevIdx], true);
        }

        if (nextItems.length) {
          const nextIdx = (idx + 1) % nextItems.length;
          setItemVisible(nextItems[nextIdx], true);
        }

        prevItems.forEach((el, i) => el.setAttribute("data-index", i));
        nextItems.forEach((el, i) => el.setAttribute("data-index", i));
      });
    </script>

    <script>
      (() => {
        const canPlay = !!document.createElement("video").canPlayType;
        if (!canPlay) return; // Bail on very old browsers

        const $ = (sel, root = document) => root.querySelector(sel);
        const $$ = (sel, root = document) =>
          Array.from(root.querySelectorAll(sel));
        const on = (t, type, h, opts) => t && t.addEventListener(type, h, opts);
        const once = (t, type, h, opts) =>
          t && t.addEventListener(type, h, { ...opts, once: true });

        const videoContainer = $("#videocontainer");
        const video = $("#video");
        const controls = $("#videocontrol");
        const playArea = $("#videocontrol-play-area");
        const track = $("#videocontrol-track");
        const bar = $("#videocontrol-bar");
        const cursorPack = $("#cursor-pack");
        const cursor = cursorPack;
        const playBtns = $$(".videocontrol-play-btn");
        const soundBtns = $$("#videocontrol-sound");
        const screenBtns = $$("#videocontrol-screensize");
        const loaders = $$(".video-loader");
        const videoCursors = $$(".video-cursor");

        const HIDE_DELAY = 2000;
        const SEEK_STEP = 1;
        const AUTOHIDE_CONTROLS = true;

        const fsElement = () =>
          document.fullscreenElement ||
          document.webkitFullscreenElement ||
          null;

        async function enterFs(el) {
          try {
            if (el?.requestFullscreen) {
              const p = el.requestFullscreen();
              if (p && typeof p.then === "function") await p;
              return;
            }
            if (el?.webkitRequestFullscreen) {
              el.webkitRequestFullscreen();
              return;
            }
          } catch (_) {}

          if (!video) return;
          try {
            if (
              typeof video.webkitSetPresentationMode === "function" &&
              typeof video.webkitSupportsPresentationMode === "function" &&
              video.webkitSupportsPresentationMode("fullscreen")
            ) {
              video.webkitSetPresentationMode("fullscreen");
              return;
            }
          } catch (_) {}

          if (typeof video.webkitEnterFullscreen === "function") {
            try {
              video.webkitEnterFullscreen();
            } catch (_) {}
          }
        }

        async function exitFs() {
          try {
            if (document.exitFullscreen) {
              const p = document.exitFullscreen();
              if (p && typeof p.then === "function") await p;
              return;
            }
            if (document.webkitExitFullscreen) {
              document.webkitExitFullscreen();
              return;
            }
          } catch (_) {}

          if (video && typeof video.webkitSetPresentationMode === "function") {
            try {
              video.webkitSetPresentationMode("inline");
            } catch (_) {}
          }
        }

        if (video) video.controls = false;
        playBtns.forEach((btn) => {
          btn.style.pointerEvents = "none";
          btn.setAttribute("aria-hidden", "true");
          btn.tabIndex = -1;
        });

        const firstSoundBtn = soundBtns[0];
        const firstScreenBtn = screenBtns[0];
        if (firstSoundBtn && firstSoundBtn.tabIndex < 0)
          firstSoundBtn.tabIndex = 0;
        if (firstScreenBtn && firstScreenBtn.tabIndex < 0)
          firstScreenBtn.tabIndex = 0;

        let hideTimer = null;
        let loaderTimer = null;

        let autoHideEnabled = false;
        const enableAutoHide = () => {
          autoHideEnabled = true;
          resetHideTimer();
        };

        const cursorHome = cursor?.parentNode || null;
        const cursorNextSibling = cursor?.nextSibling || null;
        let cursorPrevInline = null;

        let fsOverlay = null;

        const setControlsOpacity = (v) => {
          if (controls) controls.style.opacity = v;
          videoCursors.forEach((vc) => {
            vc.style.opacity = v;
          });
        };
        const showControls = () => setControlsOpacity("1");
        const hideControls = () => setControlsOpacity("0");

        const resetHideTimer = () => {
          if (!AUTOHIDE_CONTROLS) return;
          showControls();
          if (!autoHideEnabled) return;
          if (hideTimer) clearTimeout(hideTimer);
          hideTimer = setTimeout(hideControls, HIDE_DELAY);
        };

        const showLoaderSoon = (delay = 120) => {
          if (!loaders.length) return;
          clearTimeout(loaderTimer);
          loaderTimer = setTimeout(() => {
            loaders.forEach((loader) => {
              loader.style.display = "block";
              loader.style.opacity = "1";
              loader.setAttribute("aria-busy", "true");
              loader.removeAttribute("aria-hidden");
            });
          }, delay);
        };
        const hideLoader = () => {
          if (!loaders.length) return;
          clearTimeout(loaderTimer);
          loaders.forEach((loader) => {
            loader.style.opacity = "0";
            loader.style.display = "none";
            loader.removeAttribute("aria-busy");
            loader.setAttribute("aria-hidden", "true");
          });
        };

        const updatePlayButtons = () => {
          if (!video) return;
          const label = video.paused || video.ended ? "Play" : "Pause";
          playBtns.forEach((btn) => {
            btn.textContent = label;
          });
        };
        const togglePlay = () => {
          if (!video) return;
          video.paused || video.ended ? video.play() : video.pause();
        };

        const updateProgress = () => {
          if (
            !video ||
            !bar ||
            !Number.isFinite(video.duration) ||
            video.duration <= 0
          )
            return;
          bar.style.width = (video.currentTime / video.duration) * 100 + "%";
        };

        const seekToClick = (e) => {
          if (
            !video ||
            !track ||
            !Number.isFinite(video.duration) ||
            video.duration <= 0
          )
            return;
          const rect = track.getBoundingClientRect();
          const clickX = Math.min(
            Math.max(e.clientX - rect.left, 0),
            rect.width,
          );
          video.currentTime = (clickX / rect.width) * video.duration;
          resetHideTimer();
        };

        const seekBy = (delta) => {
          if (!video) return;
          const dur = Number.isFinite(video.duration)
            ? video.duration
            : Infinity;
          const cur = video.currentTime || 0;
          video.currentTime = Math.max(0, Math.min(dur, cur + delta));
          resetHideTimer();
        };

        const reflectMuteUI = () => {
          soundBtns.forEach((btn) => {
            btn.classList.toggle("muted", !!video?.muted);
            btn.setAttribute("aria-pressed", String(!!video?.muted));
          });
        };
        const toggleMute = () => {
          if (!video) return;
          video.muted = !video.muted;
          reflectMuteUI();
          resetHideTimer();
        };

        const snapshotInline = (el, props) => {
          const out = {};
          props.forEach((p) => {
            out[p] = el.style[p] ?? "";
          });
          return out;
        };
        const restoreInline = (el, snap) => {
          if (!el || !snap) return;
          Object.keys(snap).forEach((p) => {
            el.style[p] = snap[p];
          });
        };

        const ensureFsOverlay = (parentEl) => {
          if (fsOverlay && fsOverlay.parentNode === parentEl) return fsOverlay;
          if (fsOverlay?.parentNode)
            fsOverlay.parentNode.removeChild(fsOverlay);
          const overlay = document.createElement("div");
          overlay.setAttribute("aria-hidden", "true");
          overlay.style.position = "fixed";
          overlay.style.inset = "0";
          overlay.style.pointerEvents = "none";
          overlay.style.zIndex = "2147483647";
          overlay.style.contain = "layout style paint";
          parentEl.appendChild(overlay);
          fsOverlay = overlay;
          return overlay;
        };

        const placeCursorInFullscreen = (el) => {
          const fsEl = fsElement();
          const isContainerFs =
            fsEl === videoContainer ||
            fsEl === document.documentElement ||
            fsEl === document.body;
          if (!cursor || !el || !isContainerFs) return;

          const overlay = ensureFsOverlay(el);
          if (!cursorPrevInline) {
            cursorPrevInline = snapshotInline(cursor, [
              "position",
              "left",
              "top",
              "right",
              "bottom",
              "transform",
              "zIndex",
              "pointerEvents",
              "visibility",
              "opacity",
              "cursor",
            ]);
          }
          overlay.appendChild(cursor);
          cursor.style.pointerEvents = "none";
          cursor.style.position = "absolute";
          if (!cursor.style.left) cursor.style.left = "0px";
          if (!cursor.style.top) cursor.style.top = "0px";
          cursor.style.zIndex = "2147483647";
          cursor.style.visibility = "visible";
          if (!cursor.style.opacity) cursor.style.opacity = "1";
          try {
            (fsEl || videoContainer).style.cursor = "none";
          } catch {}
        };

        const restoreCursorHome = () => {
          if (!cursor || !cursorHome) return;
          try {
            if (
              cursorNextSibling &&
              cursorNextSibling.parentNode === cursorHome
            ) {
              cursorHome.insertBefore(cursor, cursorNextSibling);
            } else {
              cursorHome.appendChild(cursor);
            }
            restoreInline(cursor, cursorPrevInline);
            cursorPrevInline = null;
            if (fsOverlay?.parentNode)
              fsOverlay.parentNode.removeChild(fsOverlay);
            fsOverlay = null;
            const fse = fsElement();
            try {
              (fse || videoContainer)?.style &&
                ((fse || videoContainer).style.cursor = "");
            } catch {}
          } catch {}
        };

        const onFsChange = () => {
          const fsEl = fsElement();
          if (fsEl) placeCursorInFullscreen(fsEl);
          else restoreCursorHome();
          screenBtns.forEach((btn) =>
            btn.classList.toggle("fullscreen", !!fsEl),
          );
          resetHideTimer();
        };

        const isTyping = () => {
          const ae = document.activeElement;
          return !!(
            ae &&
            (ae.isContentEditable ||
              /^(INPUT|TEXTAREA|SELECT)$/i.test(ae.tagName))
          );
        };
        const onKeyDown = (e) => {
          if (!video || isTyping()) return;
          if (e.key === "ArrowRight") {
            e.preventDefault();
            seekBy(+SEEK_STEP);
          } else if (e.key === "ArrowLeft") {
            e.preventDefault();
            seekBy(-SEEK_STEP);
          } else if (e.key === " " || e.key === "k") {
            e.preventDefault();
            togglePlay();
          } else if (e.key === "m" || e.key === "M") {
            e.preventDefault();
            toggleMute();
          } else if (e.key === "f" || e.key === "F") {
            e.preventDefault();
            fsElement() ? exitFs() : enterFs(videoContainer);
          }
        };

        ["pointermove", "pointerdown"].forEach((evt) =>
          on(videoContainer, evt, resetHideTimer, { passive: true }),
        );
        on(controls, "pointermove", resetHideTimer, { passive: true });

        on(videoContainer, "pointerdown", enableAutoHide, { passive: true });
        on(playArea, "click", () => {
          enableAutoHide();
          togglePlay();
        });

        on(video, "play", () => {
          updatePlayButtons();
          resetHideTimer();
        });
        on(video, "pause", () => {
          updatePlayButtons();
          resetHideTimer();
        });
        once(video, "play", enableAutoHide);

        on(video, "timeupdate", updateProgress);
        on(track, "click", seekToClick);

        soundBtns.forEach((btn) => on(btn, "click", toggleMute));
        screenBtns.forEach((btn) =>
          on(btn, "click", () => {
            fsElement() ? exitFs() : enterFs(videoContainer);
            resetHideTimer();
          }),
        );

        on(document, "fullscreenchange", onFsChange);
        on(document, "webkitfullscreenchange", onFsChange);

        if (video && typeof video.addEventListener === "function") {
          on(video, "webkitpresentationmodechanged", () => {
            const isFs = video.webkitPresentationMode === "fullscreen";
            screenBtns.forEach((btn) =>
              btn.classList.toggle("fullscreen", isFs),
            );
            videoCursors.forEach((vc) => {
              vc.style.opacity = isFs ? "0" : "1";
            });
            resetHideTimer();
          });
        }

        ["loadstart", "waiting", "seeking", "stalled", "emptied"].forEach(
          (evt) => on(video, evt, () => showLoaderSoon()),
        );
        [
          "playing",
          "canplay",
          "canplaythrough",
          "seeked",
          "loadeddata",
          "loadedmetadata",
        ].forEach((evt) => on(video, evt, hideLoader));
        on(video, "error", hideLoader);

        on(document, "keydown", (e) => {
          enableAutoHide();
          onKeyDown(e);
        });

        updatePlayButtons();
        reflectMuteUI();
        showControls();
        resetHideTimer();

        if (video) {
          if (video.readyState >= 1) {
            hideLoader();
          } else {
            showLoaderSoon(120);
          }
        }
        const fsElAtStart = fsElement();
        if (fsElAtStart) placeCursorInFullscreen(fsElAtStart);
        once(window, "load", updateProgress);
      })();
    </script>
  </body>
</html>
